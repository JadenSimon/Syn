/// <reference lib="es5" />

try {} catch (e) {
    // no type annotation = emit coercion code but no guards
}

try {} catch (e: unknown) {
    // typed as `unknown` or `any` = no coercion, no guards
}

try {} catch (e: Error) {
    // typed as Error = no coercion, rethrow if not `instanceof Error` (eventually, we will emit Error.isError)
}

try {} catch (e: string | Error) {
    // same as above but more general
    // no coercion, rethrow if not one of the annotated types
}

// really there's only 1 rule: coerce if untyped, guard if typed. unknown/any behave as noop guards.

// sanity check for nested try/catch transforms
switch (1) {
    case 1: try {} catch (e: string | Error) {}
}
